# PDF Document Templates - Police Case Files

## Overview

This document defines the structured templates for all police case file documents generated by the Case Generator. Each template ensures professional, authentic, and consistent formatting across all generated PDFs.

**Design Philosophy:**
- **Template-based generation**: AI generates content, templates control structure and layout
- **Authentic appearance**: Documents look like real US police cold case files
- **Consistent branding**: All documents share common headers, footers, and classification markings
- **Type-specific layouts**: Each document type has optimized sections and formatting

---

## Common Elements (All Documents)

### Header Components
- **Agency Name**: "MUNICIPAL POLICE DEPARTMENT" (left-aligned)
- **Document Type Label**: e.g., "INCIDENT REPORT", "EVIDENCE LOG" (right-aligned)
- **Issue Date**: Format: "Issued on: YYYY-MM-DD HH:MM (¬±HH:MM)"
- **Document Title**: Descriptive title from case data
- **Classification Band**: "CONFIDENTIAL ‚Ä¢ INTERNAL USE ONLY" (gray background)

### Footer Components
- **Classification**: "CONFIDENTIAL ‚Ä¢ INTERNAL USE ONLY"
- **Pagination**: "Page X / Y" or "X / Y"

### Visual Elements
- **Watermark**: Diagonal "CONFIDENTIAL ‚Ä¢ INTERNAL USE" (very light gray, non-intrusive)
- **Fonts**: System fonts with professional appearance
- **Colors**: 
  - Primary text: Black
  - Classification: Gray
  - Highlights: Blue (information boxes), Red (warnings/priorities)
- **Page Size**: US Letter (8.5" x 11") or A4

---

## Document Type Templates

### 1. **Police Report / Incident Report** ‚úÖ IMPLEMENTED
**Type ID**: `police_report`, `incident_report`

**Page 1 Structure:**
- [x] Header with logo (left) and "INCIDENT REPORT" (right)
- [x] Document title
- [x] Three-column info box:
  - RESPONDING UNIT (Unit, Badge)
  - REPORT DETAILS (Report No., Date)
  - CASE REFERENCE (Case ID, Classification)
- [x] CASE SYNOPSIS (blue highlight box)
- [x] CLASSIFICATION DETAILS table (Case Type, Priority Level, Status, Lead Unit)
- [x] INCIDENT DETAILS table (Incident Date, Time, Location, Reporting Party)
- [x] SUBJECT INFORMATION table (Name, Age, Sex/Race, Last Known Address)
- [x] INITIAL RESPONSE section (timeline)
- [x] Status badge: "ACTIVE INVESTIGATION" (red/yellow)
- [x] Checkboxes: ‚òê Open ‚òê Active ‚òë Under Review ‚òê Closed
- [x] Signature lines (Officer + Badge + Date)

**Pages 2-N:**
- [x] Narrative sections with markdown formatting
- [x] Bullet points for key information
- [x] Cross-references to evidence IDs

**Status**: ‚úÖ Complete with professional enhancements (logo, badges, checkboxes, signatures)

---

### 2. **Evidence Log / Chain of Custody** ‚úÖ IMPLEMENTED
**Type ID**: `evidence_log`, `evidence_catalog`

**Multi-Page Structure:**

**Page 1 - Cover Page:**
- [x] Large centered logo (100px)
- [x] "EVIDENCE LOG & CHAIN OF CUSTODY" title
- [x] Case information box (Case Number, Document ID, Date)
- [x] Evidence Summary box (Total Items, Secure Count, Analysis Count)
- [x] Custody Protocol section (5 key points)
- [x] Classification banner: "CONFIDENTIAL ‚Ä¢ LAW ENFORCEMENT SENSITIVE"

**Page 2+ - Content:**
- [x] Small logo in header (50px, left)
- [x] Evidence summary section
- [x] Evidence items list with details
- [x] Chain of custody signatures (Collected By, Evidence Officer, Lead Investigator)

**Status**: ‚úÖ Complete (Multi-page template with cover page and professional formatting)

---

### 3. **Interview Transcript** ‚úÖ IMPLEMENTED
**Type ID**: `interview`, `interview_transcript`

**Multi-Page Structure:**

**Page 1 - Cover Page:**
- [x] Large centered logo (120px)
- [x] "INTERVIEW TRANSCRIPT" title
- [x] Case information box (Case Number, Document ID, Subject Name, Date/Time, Location)
- [x] Miranda Rights box with 4 checkboxes:
  - ‚òë Right to remain silent
  - ‚òë Statements used against you
  - ‚òë Right to attorney
  - ‚òë Attorney provided if cannot afford
- [x] Recording Information badges (‚òë AUDIO RECORDED, ‚òë VIDEO RECORDED)
- [x] Interview Details (Duration, Interviewing Officer, Badge Number, Witness Present)

**Page 2+ - Content:**
- [x] Small logo in header (50px, left)
- [x] Interview start notification box
- [x] Q&A format guide (suggested structure for AI content)
- [x] Interview end notification box
- [x] Triple signature section:
  - Subject Signature + Date
  - Interviewing Officer + Badge + Date
  - Witness Signature + Date

**Status**: ‚úÖ Complete (Multi-page template with Miranda rights and professional formatting)

---

### 4. **Witness Statement** ‚úÖ IMPLEMENTED
**Type ID**: `witness_statement`, `statement`

**Multi-Page Structure:**

**Page 1 - Cover Page:**
- [x] Large centered logo (100px)
- [x] "WITNESS STATEMENT" title
- [x] Case information box (Case Number, Document ID, Date of Statement)
- [x] Witness information section with fields:
  - Full Name
  - Date of Birth
  - Address
  - Phone Number
  - Occupation
- [x] Statement Certification box (legal disclaimer)
- [x] Acknowledgment checkboxes (3):
  - ‚òë Advised of rights and obligations
  - ‚òë Statement given voluntarily
  - ‚òë Witness has read and approved statement

**Page 2+ - Content:**
- [x] Small logo in header (50px, left)
- [x] Statement header (Case Reference, Statement Date)
- [x] Statement body (first-person narrative)
- [x] Witness signature section (Signature + Date + Print Name)
- [x] Officer verification section (Officer Signature + Badge + Date)
- [x] Notary Public Acknowledgment section:
  - State/County fields
  - Oath text
  - Notary signature + Commission Number + Expiration Date
  - [NOTARY SEAL] placeholder

**Status**: ‚úÖ Complete (Multi-page template with notary public certification)

---

### 5. **Suspect/Witness Profile** ‚úÖ IMPLEMENTED
**Type ID**: `suspect_profile`, `witness_profile`

**Page 1:**
- [ ] Agency seal/logo (top-left)
- [ ] "SUSPECT PROFILE" or "WITNESS PROFILE" header
- [ ] Photo box (150x200px or placeholder)
- [ ] Suspect ID number
- [ ] Personal data table (9 fields):
  - Full Name
  - Known Aliases
  - Date of Birth
  - Sex / Race
  - Height / Weight
  - Eye Color / Hair Color
  - Identifying Marks/Scars
  - Last Known Address
  - Social Security Number

**Page 2:**
- [ ] CRIMINAL HISTORY section (formatted text)
- [ ] INTERVIEW LOG table:
  - Date
  - Interviewing Officer
  - Location
  - Duration

**Page 3:**
- [ ] ALIBI VERIFICATION section
- [ ] RISK ASSESSMENT (checkboxes):
  - ‚òê Flight Risk
  - ‚òê Violent History
  - ‚òê Requires Supervision
- [ ] INVESTIGATOR NOTES (blank section with lines)

**Status**: ‚úÖ Complete (3-page layout)

---

### 6. **Forensic Analysis Report** ‚úÖ IMPLEMENTED
**Type ID**: `forensics_report`, `lab_report`

**Multi-Page Structure:**

**Page 1 - Cover Page:**
- [x] Large centered logo (100px)
- [x] "FORENSIC ANALYSIS REPORT" title
- [x] Lab information box (Lab Case Number, Submitting Agency, Submitting Officer, Date)
- [x] Analysis type badges (3 examples):
  - üî¨ FINGERPRINT ANALYSIS
  - üß¨ DNA ANALYSIS
  - üîç TRACE EVIDENCE
- [x] Accreditation badges (FBI APPROVED, ISO/IEC 17025 CERTIFIED)
- [x] Evidence reference information

**Page 2+ - Content:**
- [x] Small logo in header (50px, left)
- [x] Evidence reference section
- [x] Methodology section
- [x] Findings/Results section
- [x] Dual signature section:
  - Forensic Analyst + Credentials + Date
  - Laboratory Director + Date

**Status**: ‚úÖ Complete (Multi-page template with lab certification and professional formatting)

---

### 7. **Memo / Interdepartmental Communication** ‚úÖ IMPLEMENTED
**Type ID**: `memo`, `memo_admin`, `internal_memo`

**Multi-Page Structure:**

**Page 1 - Cover Page:**
- [x] Logo (60px) + "MUNICIPAL POLICE DEPARTMENT" header
- [x] "M E M O R A N D U M" title (spaced letters)
- [x] Routing slip with fields:
  - TO: [Recipient Name / Unit]
  - FROM: [Sender Name / Unit] - Badge #[####]
  - DATE: October 28, 2025
  - CASE REF: N/A
  - RE: [Subject line]
- [x] PRIORITY checkboxes:
  - ‚òê ROUTINE ‚òê URGENT ‚òë TIME SENSITIVE
- [x] DISTRIBUTION section (recipient list from document content)
- [x] ACTION REQUIRED checkboxes:
  - ‚òê For Information ‚òê For Review ‚òë Action Required ‚òê Response Requested
- [x] Classification: "INTERNAL USE ONLY"

**Page 2+ - Content:**
- [x] Small logo in header (50px, left)
- [x] Memo body sections (parsed from markdown):
  - BACKGROUND
  - DISCUSSION/FINDINGS
  - RECOMMENDATIONS
  - ACTION ITEMS
- [x] ACKNOWLEDGMENT section with triple signatures:
  - Prepared by: Officer Name / Rank + Date
  - Reviewed by: Supervisor Name + Date
  - Approved by: Commanding Officer + Date

**Status**: ‚úÖ Complete (Multi-page template with routing slip and acknowledgment signatures)

---

### 8. **Autopsy Report** (Cold Case Context)
**Type ID**: `autopsy_report`, `medical_examiner_report`

**Proposed Structure:**
- [ ] Header: "MEDICAL EXAMINER'S REPORT" or "AUTOPSY REPORT"
- [ ] Case information box:
  - ME Case Number
  - Decedent Name
  - Date of Death
  - Date of Autopsy
  - Medical Examiner Name
- [ ] Decedent information (Age, Sex, Race, Height, Weight)
- [ ] External examination findings
- [ ] Internal examination findings (by system)
- [ ] Toxicology results table
- [ ] Cause of death
- [ ] Manner of death (Natural, Accident, Suicide, Homicide, Undetermined)
- [ ] ME signature/certification

**Status**: ‚è≥ To be implemented

---

### 9. **Search Warrant / Court Documents**
**Type ID**: `search_warrant`, `court_document`

**Proposed Structure:**
- [ ] Header: "SEARCH WARRANT" (centered, bold)
- [ ] Court information (County, State, Case Number)
- [ ] Affidavit section
- [ ] Premises to be searched (detailed address)
- [ ] Items to be seized (detailed list)
- [ ] Probable cause statement
- [ ] Judge signature line
- [ ] Execution report section:
  - Date/Time executed
  - Officers present
  - Items seized (reference to evidence log)
  - Return date

**Status**: ‚è≥ To be implemented

---

### 10. **Case Summary / Cold Case Review**
**Type ID**: `case_summary`, `cold_case_review`

**Proposed Structure:**
- [ ] Header: "COLD CASE REVIEW SUMMARY"
- [ ] Case overview box:
  - Original Case Number
  - Original Incident Date
  - Review Date
  - Reviewing Officer(s)
- [ ] Original investigation summary
- [ ] Timeline of key events (visual or table)
- [ ] Evidence inventory summary
- [ ] Persons of interest list (with current status)
- [ ] New leads/information section
- [ ] Investigative recommendations
- [ ] Case status assessment
- [ ] Next steps

**Status**: ‚è≥ To be implemented

---

### 11. **Surveillance Log / Observation Report**
**Type ID**: `surveillance_log`, `observation_report`

**Proposed Structure:**
- [ ] Header: "SURVEILLANCE LOG"
- [ ] Operation information box:
  - Operation Name/Code
  - Date(s)
  - Target/Subject
  - Officer(s) assigned
  - Location(s)
- [ ] Log entries table:
  - Time
  - Activity/Observation
  - Officer initials
- [ ] Photo/video reference log
- [ ] Summary of significant events
- [ ] Recommendations

**Status**: ‚è≥ To be implemented

---

### 12. **Arrest Report**
**Type ID**: `arrest_report`

**Proposed Structure:**
- [ ] Header: "ARREST REPORT"
- [ ] Arrestee information box (Name, DOB, Address, etc.)
- [ ] Arrest details:
  - Date/Time of arrest
  - Location
  - Arresting Officer(s)
  - Charges (with statute codes)
- [ ] Circumstances of arrest (narrative)
- [ ] Miranda Rights compliance checkbox
- [ ] Property seized list
- [ ] Booking information
- [ ] Transport details

**Status**: ‚è≥ To be implemented

---

## Template Implementation Strategy

### Phase 1: Core Documents ‚úÖ COMPLETE
- [x] Police Report / Incident Report ‚úÖ
- [x] Suspect/Witness Profile (3-page layout) ‚úÖ

### Phase 2: Evidence & Analysis ‚úÖ COMPLETE
- [x] Evidence Log / Chain of Custody ‚úÖ
- [x] Forensic Analysis Report ‚úÖ

### Phase 3: Interviews & Statements ‚úÖ COMPLETE
- [x] Interview Transcript ‚úÖ
- [x] Witness Statement ‚úÖ

### Phase 4: Administrative & Legal ‚úÖ PARTIAL
- [x] Memo / Internal Communication ‚úÖ
- [ ] Case Summary / Cold Case Review ‚è≥

### Phase 5: Specialized Documents ‚è≥ PENDING
- [ ] Autopsy Report ‚è≥
- [ ] Search Warrant ‚è≥
- [ ] Surveillance Log ‚è≥
- [ ] Arrest Report ‚è≥

**Current Status:** 7 out of 12 document types fully implemented with professional multi-page templates

---

## Technical Implementation

### Template System Architecture

```
PdfRenderingService.cs (~3200+ lines)
‚îú‚îÄ‚îÄ GenerateRealisticPdf() - Main entry point with document type routing
‚îÇ
‚îú‚îÄ‚îÄ Multi-Page Template Generators:
‚îÇ   ‚îú‚îÄ‚îÄ GenerateMultiPageSuspectProfile() ‚úÖ (3 pages: cover, criminal history, notes)
‚îÇ   ‚îú‚îÄ‚îÄ GenerateMultiPageEvidenceLog() ‚úÖ (cover page + evidence content)
‚îÇ   ‚îú‚îÄ‚îÄ GenerateMultiPageForensicsReport() ‚úÖ (lab cover + analysis content)
‚îÇ   ‚îú‚îÄ‚îÄ GenerateMultiPageInterview() ‚úÖ (Miranda rights cover + Q&A transcript)
‚îÇ   ‚îú‚îÄ‚îÄ GenerateMultiPageMemo() ‚úÖ (routing slip + memo body)
‚îÇ   ‚îî‚îÄ‚îÄ GenerateMultiPageWitnessStatement() ‚úÖ (witness info cover + statement + notary)
‚îÇ
‚îú‚îÄ‚îÄ Content Rendering Methods:
‚îÇ   ‚îú‚îÄ‚îÄ RenderPoliceReport() ‚úÖ (single-page incident reports)
‚îÇ   ‚îú‚îÄ‚îÄ RenderEvidenceLogContent() ‚úÖ (evidence items + chain of custody)
‚îÇ   ‚îú‚îÄ‚îÄ RenderForensicsReportContent() ‚úÖ (methodology + findings)
‚îÇ   ‚îú‚îÄ‚îÄ RenderInterviewContent() ‚úÖ (Q&A format + triple signatures)
‚îÇ   ‚îú‚îÄ‚îÄ RenderMemoContent() ‚úÖ (sections + triple acknowledgment)
‚îÇ   ‚îú‚îÄ‚îÄ RenderWitnessStatementContent() ‚úÖ (statement + witness/officer/notary signatures)
‚îÇ   ‚îú‚îÄ‚îÄ RenderAutopsyReport() ‚è≥
‚îÇ   ‚îú‚îÄ‚îÄ RenderSearchWarrant() ‚è≥
‚îÇ   ‚îî‚îÄ‚îÄ RenderCaseSummary() ‚è≥
‚îÇ
‚îî‚îÄ‚îÄ Common Components:
    ‚îú‚îÄ‚îÄ BuildLetterhead() - Logo + document type header (50px logo)
    ‚îú‚îÄ‚îÄ AddWatermark() - "CONFIDENTIAL" diagonal watermark
    ‚îî‚îÄ‚îÄ GetDocumentTypeLabel() - Maps type IDs to display labels
```

**QuestPDF Version:** 2025.7.1 (Community License)  
**File Location:** `backend/CaseGen.Functions/Services/PdfRenderingService.cs`

### Content Generation Strategy

1. **AI generates content** in structured JSON format:
   ```json
   {
     "docId": "doc_evidence_001",
     "type": "evidence_log",
     "title": "Evidence Collection Log - Missing Cashbox Investigation",
     "metadata": {
       "caseId": "CASE-2025-001",
       "leadInvestigator": "Det. Sarah Martinez #4521",
       "incidentDate": "2025-10-28"
     },
     "evidence_items": [
       {
         "evidenceId": "EV001",
         "description": "Security camera footage - DVR hard drive",
         "collectionDate": "2025-10-28T11:30:00",
         "location": "Community Market Pavilion - Security Office",
         "collectedBy": "Officer J. Thompson #3892",
         "storageLocation": "Evidence Room A - Shelf 12",
         "status": "Secured"
       }
     ]
   }
   ```

2. **Template renders content** into professional PDF layout with:
   - Consistent headers/footers
   - Structured tables and sections
   - Professional styling
   - Watermarks and classification markings

---

## Completed Implementations ‚úÖ

1. ‚úÖ **Police Report template** - Single page with logo, badges, checkboxes, signatures
2. ‚úÖ **Suspect/Witness Profile template** - 3-page layout with mugshot, criminal history, notes
3. ‚úÖ **Evidence Log template** - Multi-page with cover page and chain of custody
4. ‚úÖ **Forensics Report template** - Lab certification cover + analysis content
5. ‚úÖ **Interview Transcript template** - Miranda rights cover + Q&A format
6. ‚úÖ **Memo template** - Routing slip + sections + triple acknowledgment
7. ‚úÖ **Witness Statement template** - Cover + statement + notary certification

## Next Steps ‚è≥

1. ‚è≥ **Implement Case Summary / Cold Case Review** - Timeline, evidence inventory, recommendations
2. ‚è≥ **Implement Autopsy Report** - Medical examiner format with findings
3. ‚è≥ **Implement Search Warrant** - Legal document with judge signature
4. ‚è≥ **Implement Surveillance Log** - Observation timeline format
5. ‚è≥ **Implement Arrest Report** - Booking information and charges
6. üîÑ **Update AI prompts** to generate structured content matching all templates
7. üîÑ **Create template testing suite** for automated validation

---

## Notes

- Templates should be flexible enough to handle varying content lengths
- All templates must support multi-page documents
- Maintain consistent visual language across all document types
- Consider printability and archival quality
- Include proper legal disclaimers where needed
- Support redaction markers for sensitive information
